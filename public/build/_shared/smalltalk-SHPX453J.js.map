{
  "version": 3,
  "sources": ["../../../../../node_modules/@codemirror/legacy-modes/mode/smalltalk.js"],
  "sourcesContent": ["var specialChars = /[+\\-\\/\\\\*~<>=@%|&?!.,:;^]/;\nvar keywords = /true|false|nil|self|super|thisContext/;\n\nvar Context = function(tokenizer, parent) {\n  this.next = tokenizer;\n  this.parent = parent;\n};\n\nvar Token = function(name, context, eos) {\n  this.name = name;\n  this.context = context;\n  this.eos = eos;\n};\n\nvar State = function() {\n  this.context = new Context(next, null);\n  this.expectVariable = true;\n  this.indentation = 0;\n  this.userIndentationDelta = 0;\n};\n\nState.prototype.userIndent = function(indentation, indentUnit) {\n  this.userIndentationDelta = indentation > 0 ? (indentation / indentUnit - this.indentation) : 0;\n};\n\nvar next = function(stream, context, state) {\n  var token = new Token(null, context, false);\n  var aChar = stream.next();\n\n  if (aChar === '\"') {\n    token = nextComment(stream, new Context(nextComment, context));\n\n  } else if (aChar === '\\'') {\n    token = nextString(stream, new Context(nextString, context));\n\n  } else if (aChar === '#') {\n    if (stream.peek() === '\\'') {\n      stream.next();\n      token = nextSymbol(stream, new Context(nextSymbol, context));\n    } else {\n      if (stream.eatWhile(/[^\\s.{}\\[\\]()]/))\n        token.name = 'string.special';\n      else\n        token.name = 'meta';\n    }\n\n  } else if (aChar === '$') {\n    if (stream.next() === '<') {\n      stream.eatWhile(/[^\\s>]/);\n      stream.next();\n    }\n    token.name = 'string.special';\n\n  } else if (aChar === '|' && state.expectVariable) {\n    token.context = new Context(nextTemporaries, context);\n\n  } else if (/[\\[\\]{}()]/.test(aChar)) {\n    token.name = 'bracket';\n    token.eos = /[\\[{(]/.test(aChar);\n\n    if (aChar === '[') {\n      state.indentation++;\n    } else if (aChar === ']') {\n      state.indentation = Math.max(0, state.indentation - 1);\n    }\n\n  } else if (specialChars.test(aChar)) {\n    stream.eatWhile(specialChars);\n    token.name = 'operator';\n    token.eos = aChar !== ';'; // ; cascaded message expression\n\n  } else if (/\\d/.test(aChar)) {\n    stream.eatWhile(/[\\w\\d]/);\n    token.name = 'number';\n\n  } else if (/[\\w_]/.test(aChar)) {\n    stream.eatWhile(/[\\w\\d_]/);\n    token.name = state.expectVariable ? (keywords.test(stream.current()) ? 'keyword' : 'variable') : null;\n\n  } else {\n    token.eos = state.expectVariable;\n  }\n\n  return token;\n};\n\nvar nextComment = function(stream, context) {\n  stream.eatWhile(/[^\"]/);\n  return new Token('comment', stream.eat('\"') ? context.parent : context, true);\n};\n\nvar nextString = function(stream, context) {\n  stream.eatWhile(/[^']/);\n  return new Token('string', stream.eat('\\'') ? context.parent : context, false);\n};\n\nvar nextSymbol = function(stream, context) {\n  stream.eatWhile(/[^']/);\n  return new Token('string.special', stream.eat('\\'') ? context.parent : context, false);\n};\n\nvar nextTemporaries = function(stream, context) {\n  var token = new Token(null, context, false);\n  var aChar = stream.next();\n\n  if (aChar === '|') {\n    token.context = context.parent;\n    token.eos = true;\n\n  } else {\n    stream.eatWhile(/[^|]/);\n    token.name = 'variable';\n  }\n\n  return token;\n};\n\nexport const smalltalk = {\n  name: \"smalltalk\",\n\n  startState: function() {\n    return new State;\n  },\n\n  token: function(stream, state) {\n    state.userIndent(stream.indentation(), stream.indentUnit);\n\n    if (stream.eatSpace()) {\n      return null;\n    }\n\n    var token = state.context.next(stream, state.context, state);\n    state.context = token.context;\n    state.expectVariable = token.eos;\n\n    return token.name;\n  },\n\n  blankLine: function(state, indentUnit) {\n    state.userIndent(0, indentUnit);\n  },\n\n  indent: function(state, textAfter, cx) {\n    var i = state.context.next === next && textAfter && textAfter.charAt(0) === ']' ? -1 : state.userIndentationDelta;\n    return (state.indentation + i) * cx.unit;\n  },\n\n  languageData: {\n    indentOnInput: /^\\s*\\]$/\n  }\n}\n"],
  "mappings": ";;;;;AAAA,IAAI,cACA,UAEA,SAKA,OAMA,OAWA,MA6DA,aAKA,YAKA,YAKA,iBAgBS;AArHb;AAAA;AAAA,IAAI,eAAe;AACnB,IAAI,WAAW;AAEf,IAAI,UAAU,SAAS,WAAW,QAAQ;AACxC,WAAK,OAAO;AACZ,WAAK,SAAS;AAAA,IAChB;AAEA,IAAI,QAAQ,SAAS,MAAM,SAAS,KAAK;AACvC,WAAK,OAAO;AACZ,WAAK,UAAU;AACf,WAAK,MAAM;AAAA,IACb;AAEA,IAAI,QAAQ,WAAW;AACrB,WAAK,UAAU,IAAI,QAAQ,MAAM,IAAI;AACrC,WAAK,iBAAiB;AACtB,WAAK,cAAc;AACnB,WAAK,uBAAuB;AAAA,IAC9B;AAEA,UAAM,UAAU,aAAa,SAAS,aAAa,YAAY;AAC7D,WAAK,uBAAuB,cAAc,IAAK,cAAc,aAAa,KAAK,cAAe;AAAA,IAChG;AAEA,IAAI,OAAO,SAAS,QAAQ,SAAS,OAAO;AAC1C,UAAI,QAAQ,IAAI,MAAM,MAAM,SAAS,KAAK;AAC1C,UAAI,QAAQ,OAAO,KAAK;AAExB,UAAI,UAAU,KAAK;AACjB,gBAAQ,YAAY,QAAQ,IAAI,QAAQ,aAAa,OAAO,CAAC;AAAA,MAE/D,WAAW,UAAU,KAAM;AACzB,gBAAQ,WAAW,QAAQ,IAAI,QAAQ,YAAY,OAAO,CAAC;AAAA,MAE7D,WAAW,UAAU,KAAK;AACxB,YAAI,OAAO,KAAK,MAAM,KAAM;AAC1B,iBAAO,KAAK;AACZ,kBAAQ,WAAW,QAAQ,IAAI,QAAQ,YAAY,OAAO,CAAC;AAAA,QAC7D,OAAO;AACL,cAAI,OAAO,SAAS,gBAAgB;AAClC,kBAAM,OAAO;AAAA;AAEb,kBAAM,OAAO;AAAA,QACjB;AAAA,MAEF,WAAW,UAAU,KAAK;AACxB,YAAI,OAAO,KAAK,MAAM,KAAK;AACzB,iBAAO,SAAS,QAAQ;AACxB,iBAAO,KAAK;AAAA,QACd;AACA,cAAM,OAAO;AAAA,MAEf,WAAW,UAAU,OAAO,MAAM,gBAAgB;AAChD,cAAM,UAAU,IAAI,QAAQ,iBAAiB,OAAO;AAAA,MAEtD,WAAW,aAAa,KAAK,KAAK,GAAG;AACnC,cAAM,OAAO;AACb,cAAM,MAAM,SAAS,KAAK,KAAK;AAE/B,YAAI,UAAU,KAAK;AACjB,gBAAM;AAAA,QACR,WAAW,UAAU,KAAK;AACxB,gBAAM,cAAc,KAAK,IAAI,GAAG,MAAM,cAAc,CAAC;AAAA,QACvD;AAAA,MAEF,WAAW,aAAa,KAAK,KAAK,GAAG;AACnC,eAAO,SAAS,YAAY;AAC5B,cAAM,OAAO;AACb,cAAM,MAAM,UAAU;AAAA,MAExB,WAAW,KAAK,KAAK,KAAK,GAAG;AAC3B,eAAO,SAAS,QAAQ;AACxB,cAAM,OAAO;AAAA,MAEf,WAAW,QAAQ,KAAK,KAAK,GAAG;AAC9B,eAAO,SAAS,SAAS;AACzB,cAAM,OAAO,MAAM,iBAAkB,SAAS,KAAK,OAAO,QAAQ,CAAC,IAAI,YAAY,aAAc;AAAA,MAEnG,OAAO;AACL,cAAM,MAAM,MAAM;AAAA,MACpB;AAEA,aAAO;AAAA,IACT;AAEA,IAAI,cAAc,SAAS,QAAQ,SAAS;AAC1C,aAAO,SAAS,MAAM;AACtB,aAAO,IAAI,MAAM,WAAW,OAAO,IAAI,GAAG,IAAI,QAAQ,SAAS,SAAS,IAAI;AAAA,IAC9E;AAEA,IAAI,aAAa,SAAS,QAAQ,SAAS;AACzC,aAAO,SAAS,MAAM;AACtB,aAAO,IAAI,MAAM,UAAU,OAAO,IAAI,GAAI,IAAI,QAAQ,SAAS,SAAS,KAAK;AAAA,IAC/E;AAEA,IAAI,aAAa,SAAS,QAAQ,SAAS;AACzC,aAAO,SAAS,MAAM;AACtB,aAAO,IAAI,MAAM,kBAAkB,OAAO,IAAI,GAAI,IAAI,QAAQ,SAAS,SAAS,KAAK;AAAA,IACvF;AAEA,IAAI,kBAAkB,SAAS,QAAQ,SAAS;AAC9C,UAAI,QAAQ,IAAI,MAAM,MAAM,SAAS,KAAK;AAC1C,UAAI,QAAQ,OAAO,KAAK;AAExB,UAAI,UAAU,KAAK;AACjB,cAAM,UAAU,QAAQ;AACxB,cAAM,MAAM;AAAA,MAEd,OAAO;AACL,eAAO,SAAS,MAAM;AACtB,cAAM,OAAO;AAAA,MACf;AAEA,aAAO;AAAA,IACT;AAEO,IAAM,YAAY;AAAA,MACvB,MAAM;AAAA,MAEN,YAAY,WAAW;AACrB,eAAO,IAAI;AAAA,MACb;AAAA,MAEA,OAAO,SAAS,QAAQ,OAAO;AAC7B,cAAM,WAAW,OAAO,YAAY,GAAG,OAAO,UAAU;AAExD,YAAI,OAAO,SAAS,GAAG;AACrB,iBAAO;AAAA,QACT;AAEA,YAAI,QAAQ,MAAM,QAAQ,KAAK,QAAQ,MAAM,SAAS,KAAK;AAC3D,cAAM,UAAU,MAAM;AACtB,cAAM,iBAAiB,MAAM;AAE7B,eAAO,MAAM;AAAA,MACf;AAAA,MAEA,WAAW,SAAS,OAAO,YAAY;AACrC,cAAM,WAAW,GAAG,UAAU;AAAA,MAChC;AAAA,MAEA,QAAQ,SAAS,OAAO,WAAW,IAAI;AACrC,YAAI,IAAI,MAAM,QAAQ,SAAS,QAAQ,aAAa,UAAU,OAAO,CAAC,MAAM,MAAM,KAAK,MAAM;AAC7F,gBAAQ,MAAM,cAAc,KAAK,GAAG;AAAA,MACtC;AAAA,MAEA,cAAc;AAAA,QACZ,eAAe;AAAA,MACjB;AAAA,IACF;AAAA;AAAA;",
  "names": []
}
